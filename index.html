<html>
	<head>

		<title>My Favourite Things</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css" />
		<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
		<script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js"></script>
	
	</head>

	<body>

		<!-- Main View page - general information -->
		<div data-role="page" id="Main">

			<div data-role="header">
				<h1>Tweets List</h1>
			</div><!-- /header -->

			<div data-role="content">
				<div id="tweets">
					<ul data-role="listview" data-theme="tw">
	
					</ul>
				</div>
			</div><!-- /content -->

			<div data-role="footer">
			</div><!-- /footer -->
		</div><!-- /Main page -->

		<!-- User View page -->
		<div data-role="page" id="user">

			<div data-role="header">
				<h1>User page</h1>
			</div><!-- /header -->
	
			<div data-role="content">
				<div id="usr">
		
				</div>
			</div><!-- /content -->
	
	
			<div data-role="footer">
				<a href="#Main" data-role="button">Home</a>
			</div><!-- /footer -->
	
		</div><!-- /User Page -->


		<!-- Tweet View page -->
		<div data-role="page" id="tweetPage">

			<div data-role="header">
				<h1>Tweet page</h1>
			</div><!-- /header -->

			<div data-role="content">
				<div id="post">
					<ul data-role="listview">

					</ul>
				</div>
			</div><!-- /content -->
	
	
			<div data-role="footer">
			<a href="#Main" data-role="button">Home</a>
			</div><!-- /footer -->
	
		</div><!-- /Tweet Page -->

		<script type="text/javascript">
			$.getJSON('favs.json', function(data) {
				$.each(data, function (i, value) {
					$('#tweets').children('ul').append('<div id='+i+'><a href="javascript:\
					trasitionUser('+i+')" data-role="button">' 
					+ value.user.name+'</a></br>'+value.text+'</br></div>').listview('refresh');
					<!-- Insert the from where is the replies-->
				});
			});
		</script>

		<script type="text/javascript">
			function trasitionUser(i) {

				$.getJSON('favs.json', function(data) {
					//alert(data[i].user.name);
					$('#usr').replaceWith('<div id="usr">'+data[i].user.name+'</br></div>').listview('refresh');
				});
		
				$.mobile.changePage('#user');
			}
		</script>
	</body>
</html>
